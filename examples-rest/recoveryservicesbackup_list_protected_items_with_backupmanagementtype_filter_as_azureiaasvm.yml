- hosts: localhost
  tasks:
    - name: List protected items with backupManagementType filter as AzureIaasVm
      azure_rm_resource_facts:
        api_version: ''
        # url: /Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{vaultName}/backupProtectedItems
        resource_group: SwaggerTestRg
        provider: RecoveryServices
        resource_type: vaults
        resource_name: NetSDKTestRsVault
        subresource:
          - type: backupProtectedItems
